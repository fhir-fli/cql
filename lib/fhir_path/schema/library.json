{
    "$schema": "https://json-schema.org/draft-04/schema#",
    "id": "urn:hl7-org:elm:r1#",
    "definitions": {
        "TypeSpecifier": {
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Element": {
            "type": "object",
            "properties": {
                "annotation": {
                    "type": "array",
                    "items": {
                        "type": [
                            "string",
                            "number",
                            "integer",
                            "boolean",
                            "null",
                            "object",
                            "array"
                        ]
                    },
                    "minItems": 0
                },
                "resultTypeSpecifier": {"$ref": "#/definitions/TypeSpecifier"},
                "localId": {"type": "string"},
                "locator": {"type": "string"},
                "resultTypeName": {"type": "object"}
            }
        },
        "VersionedIdentifier": {
            "type": "object",
            "properties": {
                "id": {"type": "string"},
                "system": {"type": "string"},
                "version": {"type": "string"}
            }
        },
        "UsingDef": {
            "required": [
                "localIdentifier",
                "uri"
            ],
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "localIdentifier": {"type": "string"},
                        "uri": {
                            "type": "string",
                            "format": "uri"
                        },
                        "version": {"type": "string"}
                    }
                }
            ]
        },
        "Library.Usings": {
            "type": "object",
            "required": ["def"],
            "properties": {
                "def": {
                    "type": "array",
                    "items": {"$ref": "#/definitions/UsingDef"},
                    "minItems": 1
                }
            }
        },
        "IncludeDef": {
            "required": [
                "localIdentifier",
                "path"
            ],
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "localIdentifier": {"type": "string"},
                        "mediaType": {
                            "type": "string",
                            "default": "application/elm+xml",
                            "format": "uri"
                        },
                        "path": {
                            "type": "string",
                            "format": "uri"
                        },
                        "version": {"type": "string"}
                    }
                }
            ]
        },
        "Library.Includes": {
            "type": "object",
            "required": ["def"],
            "properties": {
                "def": {
                    "type": "array",
                    "items": {"$ref": "#/definitions/IncludeDef"},
                    "minItems": 1
                }
            }
        },
        "Expression": {
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ParameterDef": {
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "_default": {"$ref": "#/definitions/Expression"},
                        "parameterTypeSpecifier": {"$ref": "#/definitions/TypeSpecifier"},
                        "name": {"type": "string"},
                        "parameterType": {"type": "object"},
                        "accessLevel": {
                            "$ref": "#/definitions/AccessModifier",
                            "default": "Public"
                        }
                    }
                }
            ]
        },
        "Library.Parameters": {
            "type": "object",
            "properties": {
                "def": {
                    "type": "array",
                    "items": {"$ref": "#/definitions/ParameterDef"},
                    "minItems": 0
                }
            }
        },
        "CodeSystemDef": {
            "required": [
                "name",
                "id"
            ],
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "name": {"type": "string"},
                        "id": {"type": "string"},
                        "version": {"type": "string"},
                        "accessLevel": {
                            "$ref": "#/definitions/AccessModifier",
                            "default": "Public"
                        }
                    }
                }
            ]
        },
        "Library.CodeSystems": {
            "type": "object",
            "properties": {
                "def": {
                    "type": "array",
                    "items": {"$ref": "#/definitions/CodeSystemDef"},
                    "minItems": 0
                }
            }
        },
        "CodeSystemRef": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "name": {"type": "string"},
                        "libraryName": {"type": "string"}
                    }
                }
            ]
        },
        "ValueSetDef": {
            "required": ["id"],
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "codeSystem": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/CodeSystemRef"},
                            "minItems": 0
                        },
                        "name": {"type": "string"},
                        "id": {"type": "string"},
                        "version": {"type": "string"},
                        "accessLevel": {
                            "$ref": "#/definitions/AccessModifier",
                            "default": "Public"
                        }
                    }
                }
            ]
        },
        "Library.ValueSets": {
            "type": "object",
            "properties": {
                "def": {
                    "type": "array",
                    "items": {"$ref": "#/definitions/ValueSetDef"},
                    "minItems": 0
                }
            }
        },
        "CodeDef": {
            "required": [
                "name",
                "id"
            ],
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "codeSystem": {"$ref": "#/definitions/CodeSystemRef"},
                        "name": {"type": "string"},
                        "id": {"type": "string"},
                        "display": {"type": "string"},
                        "accessLevel": {
                            "$ref": "#/definitions/AccessModifier",
                            "default": "Public"
                        }
                    }
                }
            ]
        },
        "Library.Codes": {
            "type": "object",
            "properties": {
                "def": {
                    "type": "array",
                    "items": {"$ref": "#/definitions/CodeDef"},
                    "minItems": 0
                }
            }
        },
        "CodeRef": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "name": {"type": "string"},
                        "libraryName": {"type": "string"}
                    }
                }
            ]
        },
        "ConceptDef": {
            "required": [
                "code",
                "name"
            ],
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "code": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/CodeRef"},
                            "minItems": 1
                        },
                        "name": {"type": "string"},
                        "display": {"type": "string"},
                        "accessLevel": {
                            "$ref": "#/definitions/AccessModifier",
                            "default": "Public"
                        }
                    }
                }
            ]
        },
        "Library.Concepts": {
            "type": "object",
            "properties": {
                "def": {
                    "type": "array",
                    "items": {"$ref": "#/definitions/ConceptDef"},
                    "minItems": 0
                }
            }
        },
        "ExpressionDef": {
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "expression": {"$ref": "#/definitions/Expression"},
                        "name": {"type": "string"},
                        "context": {"type": "string"},
                        "accessLevel": {
                            "$ref": "#/definitions/AccessModifier",
                            "default": "Public"
                        }
                    }
                }
            ]
        },
        "Library.Statements": {
            "type": "object",
            "properties": {
                "def": {
                    "type": "array",
                    "items": {"$ref": "#/definitions/ExpressionDef"},
                    "minItems": 0
                }
            }
        },
        "Library": {
            "required": [
                "identifier",
                "schemaIdentifier"
            ],
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "identifier": {"$ref": "#/definitions/VersionedIdentifier"},
                        "schemaIdentifier": {"$ref": "#/definitions/VersionedIdentifier"},
                        "usings": {"$ref": "#/definitions/Library.Usings"},
                        "includes": {"$ref": "#/definitions/Library.Includes"},
                        "parameters": {"$ref": "#/definitions/Library.Parameters"},
                        "codeSystems": {"$ref": "#/definitions/Library.CodeSystems"},
                        "valueSets": {"$ref": "#/definitions/Library.ValueSets"},
                        "codes": {"$ref": "#/definitions/Library.Codes"},
                        "concepts": {"$ref": "#/definitions/Library.Concepts"},
                        "statements": {"$ref": "#/definitions/Library.Statements"}
                    }
                }
            ]
        },
        "OperatorExpression": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "signature": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/TypeSpecifier"},
                            "minItems": 0
                        }
                    }
                }
            ]
        },
        "BinaryExpression": {
            "required": ["operand"],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "operand": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/Expression"},
                            "maxItems": 2,
                            "minItems": 2
                        }
                    }
                }
            ]
        },
        "Or": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "AliasedQuerySource": {
            "required": [
                "expression",
                "alias"
            ],
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "expression": {"$ref": "#/definitions/Expression"},
                        "alias": {"type": "string"}
                    }
                }
            ]
        },
        "LetClause": {
            "required": [
                "expression",
                "identifier"
            ],
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "expression": {"$ref": "#/definitions/Expression"},
                        "identifier": {"type": "string"}
                    }
                }
            ]
        },
        "RelationshipClause": {
            "required": ["suchThat"],
            "allOf": [
                {"$ref": "#/definitions/AliasedQuerySource"},
                {
                    "type": "object",
                    "properties": {
                        "suchThat": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "ReturnClause": {
            "required": ["expression"],
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "expression": {"$ref": "#/definitions/Expression"},
                        "distinct": {
                            "type": "boolean",
                            "default": "true"
                        }
                    }
                }
            ]
        },
        "SortByItem": {
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "direction": {"$ref": "#/definitions/SortDirection"}
                    }
                }
            ]
        },
        "SortClause": {
            "required": ["by"],
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "by": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/SortByItem"},
                            "minItems": 1
                        }
                    }
                }
            ]
        },
        "Query": {
            "required": ["source"],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "source": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/AliasedQuerySource"},
                            "minItems": 1
                        },
                        "let": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/LetClause"},
                            "minItems": 0
                        },
                        "relationship": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/RelationshipClause"},
                            "minItems": 0
                        },
                        "where": {"$ref": "#/definitions/Expression"},
                        "_return": {"$ref": "#/definitions/ReturnClause"},
                        "sort": {"$ref": "#/definitions/SortClause"}
                    }
                }
            ]
        },
        "UnaryExpression": {
            "required": ["operand"],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "operand": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "Size": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Ceiling": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "AggregateExpression": {
            "required": ["source"],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "signature": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/TypeSpecifier"},
                            "minItems": 0
                        },
                        "source": {"$ref": "#/definitions/Expression"},
                        "path": {"type": "string"}
                    }
                }
            ]
        },
        "Product": {
            "allOf": [
                {"$ref": "#/definitions/AggregateExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Median": {
            "allOf": [
                {"$ref": "#/definitions/AggregateExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ToDecimal": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Repeat": {
            "required": [
                "source",
                "element"
            ],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "source": {"$ref": "#/definitions/Expression"},
                        "element": {"$ref": "#/definitions/Expression"},
                        "scope": {"type": "string"}
                    }
                }
            ]
        },
        "Distinct": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "IsFalse": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ProperIn": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "ExpressionRef": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "name": {"type": "string"},
                        "libraryName": {"type": "string"}
                    }
                }
            ]
        },
        "FunctionRef": {
            "allOf": [
                {"$ref": "#/definitions/ExpressionRef"},
                {
                    "type": "object",
                    "properties": {
                        "signature": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/TypeSpecifier"},
                            "minItems": 0
                        },
                        "operand": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/Expression"},
                            "minItems": 0
                        }
                    }
                }
            ]
        },
        "SameOrAfter": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "PositionOf": {
            "required": [
                "pattern",
                "string"
            ],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "pattern": {"$ref": "#/definitions/Expression"},
                        "string": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "NotEqual": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "OperandDef": {
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "operandTypeSpecifier": {"$ref": "#/definitions/TypeSpecifier"},
                        "name": {"type": "string"},
                        "operandType": {"type": "object"}
                    }
                }
            ]
        },
        "ConvertsToDecimal": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ConvertsToString": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Sum": {
            "allOf": [
                {"$ref": "#/definitions/AggregateExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "LowBoundary": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Code": {
            "required": [
                "system",
                "code"
            ],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "system": {"$ref": "#/definitions/CodeSystemRef"},
                        "code": {"type": "string"},
                        "display": {"type": "string"}
                    }
                }
            ]
        },
        "ValueSetRef": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "name": {"type": "string"},
                        "libraryName": {"type": "string"}
                    }
                }
            ]
        },
        "ProperIncludes": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "Min": {
            "allOf": [
                {"$ref": "#/definitions/AggregateExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "TimeFrom": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "OverlapsBefore": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "DateFrom": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Expand": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Contains": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "Subtract": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Xor": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "QueryLetRef": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "name": {"type": "string"}
                    }
                }
            ]
        },
        "CanConvert": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "toTypeSpecifier": {"$ref": "#/definitions/TypeSpecifier"},
                        "toType": {"type": "object"}
                    }
                }
            ]
        },
        "Split": {
            "required": ["stringToSplit"],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "stringToSplit": {"$ref": "#/definitions/Expression"},
                        "separator": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "EndsWith": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ConvertsToDate": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "TernaryExpression": {
            "required": ["operand"],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "operand": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/Expression"},
                            "maxItems": 3,
                            "minItems": 3
                        }
                    }
                }
            ]
        },
        "LessOrEqual": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Predecessor": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Overlaps": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "Starts": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "ConceptRef": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "name": {"type": "string"},
                        "libraryName": {"type": "string"}
                    }
                }
            ]
        },
        "Matches": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "InstanceElement": {
            "type": "object",
            "required": [
                "value",
                "name"
            ],
            "properties": {
                "value": {"$ref": "#/definitions/Expression"},
                "name": {"type": "string"}
            }
        },
        "Instance": {
            "required": ["classType"],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "element": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/InstanceElement"},
                            "minItems": 0
                        },
                        "classType": {"type": "object"}
                    }
                }
            ]
        },
        "AliasRef": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "name": {"type": "string"}
                    }
                }
            ]
        },
        "ToList": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "NaryExpression": {
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "operand": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/Expression"},
                            "minItems": 0
                        }
                    }
                }
            ]
        },
        "Union": {
            "allOf": [
                {"$ref": "#/definitions/NaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "As": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "asTypeSpecifier": {"$ref": "#/definitions/TypeSpecifier"},
                        "asType": {"type": "object"},
                        "strict": {
                            "type": "boolean",
                            "default": "false"
                        }
                    }
                }
            ]
        },
        "Abs": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Upper": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Convert": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "toTypeSpecifier": {"$ref": "#/definitions/TypeSpecifier"},
                        "toType": {"type": "object"}
                    }
                }
            ]
        },
        "ParameterRef": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "name": {"type": "string"},
                        "libraryName": {"type": "string"}
                    }
                }
            ]
        },
        "SameAs": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "Length": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "AllTrue": {
            "allOf": [
                {"$ref": "#/definitions/AggregateExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "After": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "Aggregate": {
            "required": ["iteration"],
            "allOf": [
                {"$ref": "#/definitions/AggregateExpression"},
                {
                    "type": "object",
                    "properties": {
                        "iteration": {"$ref": "#/definitions/Expression"},
                        "initialValue": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "ChoiceTypeSpecifier": {
            "allOf": [
                {"$ref": "#/definitions/TypeSpecifier"},
                {
                    "type": "object",
                    "properties": {
                        "type": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/TypeSpecifier"},
                            "minItems": 0
                        },
                        "choice": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/TypeSpecifier"},
                            "minItems": 0
                        }
                    }
                }
            ]
        },
        "Power": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "DurationBetween": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "Add": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Meets": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "Lower": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Start": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "PopulationVariance": {
            "allOf": [
                {"$ref": "#/definitions/AggregateExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "NamedTypeSpecifier": {
            "required": ["name"],
            "allOf": [
                {"$ref": "#/definitions/TypeSpecifier"},
                {
                    "type": "object",
                    "properties": {
                        "name": {"type": "object"}
                    }
                }
            ]
        },
        "SubsumedBy": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ForEach": {
            "required": [
                "source",
                "element"
            ],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "source": {"$ref": "#/definitions/Expression"},
                        "element": {"$ref": "#/definitions/Expression"},
                        "scope": {"type": "string"}
                    }
                }
            ]
        },
        "Divide": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Last": {
            "required": ["source"],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "source": {"$ref": "#/definitions/Expression"},
                        "orderBy": {"type": "string"}
                    }
                }
            ]
        },
        "Implies": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Literal": {
            "required": ["valueType"],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "valueType": {"type": "object"},
                        "value": {
                            "type": [
                                "string",
                                "number",
                                "integer",
                                "boolean",
                                "null"
                            ]
                        }
                    }
                }
            ]
        },
        "Multiply": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ProperContains": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "List": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "typeSpecifier": {"$ref": "#/definitions/TypeSpecifier"},
                        "element": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/Expression"},
                            "minItems": 0
                        }
                    }
                }
            ]
        },
        "First": {
            "required": ["source"],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "source": {"$ref": "#/definitions/Expression"},
                        "orderBy": {"type": "string"}
                    }
                }
            ]
        },
        "IdentifierRef": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "name": {"type": "string"},
                        "libraryName": {"type": "string"}
                    }
                }
            ]
        },
        "ConvertsToDateTime": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "CalculateAgeAt": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "Coalesce": {
            "allOf": [
                {"$ref": "#/definitions/NaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Not": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Avg": {
            "allOf": [
                {"$ref": "#/definitions/AggregateExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Descendents": {
            "required": ["source"],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "source": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "Concatenate": {
            "allOf": [
                {"$ref": "#/definitions/NaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Now": {
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "End": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Combine": {
            "required": ["source"],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "source": {"$ref": "#/definitions/Expression"},
                        "separator": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "Time": {
            "required": ["hour"],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "hour": {"$ref": "#/definitions/Expression"},
                        "minute": {"$ref": "#/definitions/Expression"},
                        "second": {"$ref": "#/definitions/Expression"},
                        "millisecond": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "Iteration": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "scope": {"type": "string"}
                    }
                }
            ]
        },
        "StartsWith": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "DateTimeComponentFrom": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "With": {
            "allOf": [
                {"$ref": "#/definitions/RelationshipClause"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Successor": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ToChars": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Children": {
            "required": ["source"],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "source": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "HighBoundary": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "TimezoneOffsetFrom": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Filter": {
            "required": [
                "source",
                "condition"
            ],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "source": {"$ref": "#/definitions/Expression"},
                        "condition": {"$ref": "#/definitions/Expression"},
                        "scope": {"type": "string"}
                    }
                }
            ]
        },
        "IsTrue": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Exists": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "IsNull": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "TupleElementDefinition": {
            "required": ["name"],
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "type": {"$ref": "#/definitions/TypeSpecifier"},
                        "elementType": {"$ref": "#/definitions/TypeSpecifier"},
                        "name": {"type": "string"}
                    }
                }
            ]
        },
        "SingletonFrom": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ConvertsToBoolean": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "SplitOnMatches": {
            "required": [
                "stringToSplit",
                "separatorPattern"
            ],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "stringToSplit": {"$ref": "#/definitions/Expression"},
                        "separatorPattern": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "Retrieve": {
            "required": ["dataType"],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "codes": {"$ref": "#/definitions/Expression"},
                        "dateRange": {"$ref": "#/definitions/Expression"},
                        "context": {"$ref": "#/definitions/Expression"},
                        "dataType": {"type": "object"},
                        "templateId": {"type": "string"},
                        "idProperty": {"type": "string"},
                        "codeProperty": {"type": "string"},
                        "valueSetProperty": {"type": "string"},
                        "dateProperty": {"type": "string"},
                        "dateLowProperty": {"type": "string"},
                        "dateHighProperty": {"type": "string"}
                    }
                }
            ]
        },
        "ProperIncludedIn": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "Count": {
            "allOf": [
                {"$ref": "#/definitions/AggregateExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "TupleTypeSpecifier": {
            "allOf": [
                {"$ref": "#/definitions/TypeSpecifier"},
                {
                    "type": "object",
                    "properties": {
                        "element": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/TupleElementDefinition"},
                            "minItems": 0
                        }
                    }
                }
            ]
        },
        "DateTime": {
            "required": ["year"],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "year": {"$ref": "#/definitions/Expression"},
                        "month": {"$ref": "#/definitions/Expression"},
                        "day": {"$ref": "#/definitions/Expression"},
                        "hour": {"$ref": "#/definitions/Expression"},
                        "minute": {"$ref": "#/definitions/Expression"},
                        "second": {"$ref": "#/definitions/Expression"},
                        "millisecond": {"$ref": "#/definitions/Expression"},
                        "timezoneOffset": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "SameOrBefore": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "MeetsAfter": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "Equal": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Subsumes": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "DifferenceBetween": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "MeetsBefore": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "Substring": {
            "required": [
                "stringToSub",
                "startIndex"
            ],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "stringToSub": {"$ref": "#/definitions/Expression"},
                        "startIndex": {"$ref": "#/definitions/Expression"},
                        "length": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "StdDev": {
            "allOf": [
                {"$ref": "#/definitions/AggregateExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Log": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "IndexOf": {
            "required": [
                "source",
                "element"
            ],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "source": {"$ref": "#/definitions/Expression"},
                        "element": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "Modulo": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ToBoolean": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ToInteger": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Flatten": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "MaxValue": {
            "required": ["valueType"],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "valueType": {"type": "object"}
                    }
                }
            ]
        },
        "ToDateTime": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ByColumn": {
            "allOf": [
                {"$ref": "#/definitions/SortByItem"},
                {
                    "type": "object",
                    "properties": {
                        "path": {"type": "string"}
                    }
                }
            ]
        },
        "Precision": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "LastPositionOf": {
            "required": [
                "pattern",
                "string"
            ],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "pattern": {"$ref": "#/definitions/Expression"},
                        "string": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "ListTypeSpecifier": {
            "required": ["elementType"],
            "allOf": [
                {"$ref": "#/definitions/TypeSpecifier"},
                {
                    "type": "object",
                    "properties": {
                        "elementType": {"$ref": "#/definitions/TypeSpecifier"}
                    }
                }
            ]
        },
        "Ends": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "OverlapsAfter": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "If": {
            "required": [
                "condition",
                "then",
                "_else"
            ],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "condition": {"$ref": "#/definitions/Expression"},
                        "then": {"$ref": "#/definitions/Expression"},
                        "_else": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "Current": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "scope": {"type": "string"}
                    }
                }
            ]
        },
        "Interval": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "low": {"$ref": "#/definitions/Expression"},
                        "lowClosedExpression": {"$ref": "#/definitions/Expression"},
                        "high": {"$ref": "#/definitions/Expression"},
                        "highClosedExpression": {"$ref": "#/definitions/Expression"},
                        "lowClosed": {
                            "type": "boolean",
                            "default": "true"
                        },
                        "highClosed": {
                            "type": "boolean",
                            "default": "true"
                        }
                    }
                }
            ]
        },
        "ConvertsToInteger": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ConvertsToQuantity": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "In": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "Max": {
            "allOf": [
                {"$ref": "#/definitions/AggregateExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Is": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "isTypeSpecifier": {"$ref": "#/definitions/TypeSpecifier"},
                        "isType": {"type": "object"}
                    }
                }
            ]
        },
        "ToQuantity": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "CaseItem": {
            "required": [
                "when",
                "then"
            ],
            "allOf": [
                {"$ref": "#/definitions/Element"},
                {
                    "type": "object",
                    "properties": {
                        "when": {"$ref": "#/definitions/Expression"},
                        "then": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "Case": {
            "required": [
                "caseItem",
                "_else"
            ],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "comparand": {"$ref": "#/definitions/Expression"},
                        "caseItem": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/CaseItem"},
                            "minItems": 1
                        },
                        "_else": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "IntervalTypeSpecifier": {
            "required": ["pointType"],
            "allOf": [
                {"$ref": "#/definitions/TypeSpecifier"},
                {
                    "type": "object",
                    "properties": {
                        "pointType": {"$ref": "#/definitions/TypeSpecifier"}
                    }
                }
            ]
        },
        "ConvertsToTime": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Without": {
            "allOf": [
                {"$ref": "#/definitions/RelationshipClause"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Quantity": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "value": {"type": "number"},
                        "unit": {"type": "string"}
                    }
                }
            ]
        },
        "Ratio": {
            "required": [
                "numerator",
                "denominator"
            ],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "numerator": {"$ref": "#/definitions/Quantity"},
                        "denominator": {"$ref": "#/definitions/Quantity"}
                    }
                }
            ]
        },
        "Width": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Property": {
            "required": ["path"],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "source": {"$ref": "#/definitions/Expression"},
                        "path": {"type": "string"},
                        "scope": {"type": "string"}
                    }
                }
            ]
        },
        "AnyInCodeSystem": {
            "required": [
                "codes",
                "codesystem"
            ],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "codes": {"$ref": "#/definitions/Expression"},
                        "codesystem": {"$ref": "#/definitions/CodeSystemRef"}
                    }
                }
            ]
        },
        "CalculateAge": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "GreaterOrEqual": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ConvertsToRatio": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ByDirection": {
            "allOf": [
                {"$ref": "#/definitions/SortByItem"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ToDate": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ToString": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "TupleElement": {
            "type": "object",
            "required": [
                "value",
                "name"
            ],
            "properties": {
                "value": {"$ref": "#/definitions/Expression"},
                "name": {"type": "string"}
            }
        },
        "Tuple": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "element": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/TupleElement"},
                            "minItems": 0
                        }
                    }
                }
            ]
        },
        "AnyTrue": {
            "allOf": [
                {"$ref": "#/definitions/AggregateExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Null": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "valueType": {"type": "object"}
                    }
                }
            ]
        },
        "FunctionDef": {
            "allOf": [
                {"$ref": "#/definitions/ExpressionDef"},
                {
                    "type": "object",
                    "properties": {
                        "operand": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/OperandDef"},
                            "minItems": 0
                        },
                        "external": {"type": "boolean"}
                    }
                }
            ]
        },
        "OperandRef": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "name": {"type": "string"}
                    }
                }
            ]
        },
        "Intersect": {
            "allOf": [
                {"$ref": "#/definitions/NaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ToTime": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ToRatio": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "PointFrom": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ReplaceMatches": {
            "allOf": [
                {"$ref": "#/definitions/TernaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "MinValue": {
            "required": ["valueType"],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "valueType": {"type": "object"}
                    }
                }
            ]
        },
        "Sort": {
            "required": [
                "source",
                "by"
            ],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "source": {"$ref": "#/definitions/Expression"},
                        "by": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/SortByItem"},
                            "minItems": 1
                        }
                    }
                }
            ]
        },
        "Less": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Concept": {
            "required": ["code"],
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "code": {
                            "type": "array",
                            "items": {"$ref": "#/definitions/Code"},
                            "minItems": 1
                        },
                        "display": {"type": "string"}
                    }
                }
            ]
        },
        "Ln": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "GeometricMean": {
            "allOf": [
                {"$ref": "#/definitions/AggregateExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "ToConcept": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "InValueSet": {
            "required": [
                "code",
                "valueset"
            ],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "code": {"$ref": "#/definitions/Expression"},
                        "valueset": {"$ref": "#/definitions/ValueSetRef"}
                    }
                }
            ]
        },
        "AnyInValueSet": {
            "required": [
                "codes",
                "valueset"
            ],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "codes": {"$ref": "#/definitions/Expression"},
                        "valueset": {"$ref": "#/definitions/ValueSetRef"}
                    }
                }
            ]
        },
        "And": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Slice": {
            "required": [
                "source",
                "startIndex",
                "endIndex"
            ],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "source": {"$ref": "#/definitions/Expression"},
                        "startIndex": {"$ref": "#/definitions/Expression"},
                        "endIndex": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "Equivalent": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "TruncatedDivide": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "CanConvertQuantity": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "InCodeSystem": {
            "required": [
                "code",
                "codesystem"
            ],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "code": {"$ref": "#/definitions/Expression"},
                        "codesystem": {"$ref": "#/definitions/CodeSystemRef"}
                    }
                }
            ]
        },
        "Except": {
            "allOf": [
                {"$ref": "#/definitions/NaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Before": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "ConvertQuantity": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "IncludedIn": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "Message": {
            "required": ["source"],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "source": {"$ref": "#/definitions/Expression"},
                        "condition": {"$ref": "#/definitions/Expression"},
                        "code": {"$ref": "#/definitions/Expression"},
                        "severity": {"$ref": "#/definitions/Expression"},
                        "message": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "Truncate": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Variance": {
            "allOf": [
                {"$ref": "#/definitions/AggregateExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Includes": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {
                        "precision": {"$ref": "#/definitions/DateTimePrecision"}
                    }
                }
            ]
        },
        "Indexer": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Round": {
            "required": ["operand"],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "operand": {"$ref": "#/definitions/Expression"},
                        "precision": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "ByExpression": {
            "required": ["expression"],
            "allOf": [
                {"$ref": "#/definitions/SortByItem"},
                {
                    "type": "object",
                    "properties": {
                        "expression": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "Collapse": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Floor": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "TimeOfDay": {
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Mode": {
            "allOf": [
                {"$ref": "#/definitions/AggregateExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "PopulationStdDev": {
            "allOf": [
                {"$ref": "#/definitions/AggregateExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Date": {
            "required": ["year"],
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {
                        "year": {"$ref": "#/definitions/Expression"},
                        "month": {"$ref": "#/definitions/Expression"},
                        "day": {"$ref": "#/definitions/Expression"}
                    }
                }
            ]
        },
        "Today": {
            "allOf": [
                {"$ref": "#/definitions/OperatorExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Times": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Total": {
            "allOf": [
                {"$ref": "#/definitions/Expression"},
                {
                    "type": "object",
                    "properties": {
                        "scope": {"type": "string"}
                    }
                }
            ]
        },
        "Greater": {
            "allOf": [
                {"$ref": "#/definitions/BinaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Negate": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "Exp": {
            "allOf": [
                {"$ref": "#/definitions/UnaryExpression"},
                {
                    "type": "object",
                    "properties": {}
                }
            ]
        },
        "AccessModifier": {
            "type": "string",
            "enum": [
                "Public",
                "Private"
            ]
        },
        "SortDirection": {
            "type": "string",
            "enum": [
                "asc",
                "ascending",
                "desc",
                "descending"
            ]
        },
        "DateTimePrecision": {
            "type": "string",
            "enum": [
                "Year",
                "Month",
                "Week",
                "Day",
                "Hour",
                "Minute",
                "Second",
                "Millisecond"
            ]
        }
    },
    "properties": {
        "library": {"$ref": "#/definitions/Library"}
    }
}